<!--
  THE~GRID MANIFESTATION~STATION
  Copyright (c) 2024
  Licensed under Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International
  See LICENSE file for details
-->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>THE~GRID</title>

    <!-- Tailwind CSS 4 -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            animation: {
              "pulse-slow": "pulse 6s cubic-bezier(0.4, 0, 0.6, 1) infinite",
            },
          },
        },
      };
    </script>
  </head>

  <body class="overflow-hidden" style="color: #f8ed43">
    <!-- Main container with overlay content -->
    <div class="relative w-screen h-screen">
      <!-- Globe container -->
      <div id="globeViz" class="absolute z-1 inset-0"></div>

      <!-- Overlay content -->
      <div
        class="absolute z-1000 inset-0 flex flex-col justify-between items-center p-6 pointer-events-none"
      >
        <!-- Header -->
        <div class="flex-shrink-0 text-center mt-8">
          <h1 class="text-5xl font-bold tracking-wider">THE~GRID</h1>
          <h2 class="text-xl font-bold">MANIFESTATION~STATION</h2>
        </div>

        <!-- Center heart -->
        <div class="flex-1 flex items-center justify-center">
          <div class="pointer-events-auto cursor-pointer" id="heart-button">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
              class="size-24 hover:scale-110 transition-transform duration-500"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"
              />
            </svg>
          </div>
        </div>

        <!-- Footer with time -->
        <div class="flex-shrink-0 text-center mb-8">
          <h1 class="text-sm font-bold" id="manifestation-header">
            NEXT~MANIFESTATION~IN
          </h1>
          <div id="time-display" class="text-4xl font-bold tracking-wider">
            21:21:21
          </div>
        </div>
      </div>
    </div>

    <!-- Globe.gl library -->
    <script src="https://unpkg.com/globe.gl"></script>
    <!-- Main script -->
    <script src="script.js"></script>

    <!-- Countdown script -->
    <script>
      function updateCountdown() {
        const now = new Date();
        const today = new Date(
          now.getFullYear(),
          now.getMonth(),
          now.getDate()
        );
        const targetTime = new Date(
          today.getTime() + 21 * 60 * 60 * 1000 + 21 * 60 * 1000
        ); // 21:21 today

        // If we've passed 21:21 today, set target to 21:21 tomorrow
        if (now > targetTime) {
          targetTime.setDate(targetTime.getDate() + 1);
        }

        const timeDiff = targetTime - now;

        if (timeDiff <= 0) {
          document.getElementById("time-display").textContent = "00:00:00";
          return;
        }

        const hours = Math.floor(timeDiff / (1000 * 60 * 60));
        const minutes = Math.floor((timeDiff % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((timeDiff % (1000 * 60)) / 1000);

        const countdownString = `${hours.toString().padStart(2, "0")}:${minutes
          .toString()
          .padStart(2, "0")}:${seconds.toString().padStart(2, "0")}`;
        document.getElementById("time-display").textContent = countdownString;
      }

      // Update countdown every second
      setInterval(updateCountdown, 1000);
      updateCountdown(); // Initial call
    </script>
  </body>
</html>
